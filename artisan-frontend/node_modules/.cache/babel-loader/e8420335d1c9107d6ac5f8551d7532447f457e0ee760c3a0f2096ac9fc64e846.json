{"ast":null,"code":"import{useEffect,useState}from\"react\";import ChatNavBtn from\"../buttons/ChatNavBtn\";import{ArrowRightEndOnRectangleIcon,ArrowsPointingInIcon,ArrowsPointingOutIcon,XMarkIcon}from\"@heroicons/react/24/solid\";import{Cog6ToothIcon,PaperAirplaneIcon}from\"@heroicons/react/24/outline\";import MessageBox from\"./MessageBox\";import ContextDropDown from\"./ContextDropDown\";import useWindowSize from\"../../hooks/useWindowSize\";import{useDispatch,useSelector}from\"react-redux\";import GenericAvatar from\"../GenericAvatar\";// import ChatUserInput from \"./ChatUserInput\";\nimport{addError,clearError}from\"../../redux/errorsReducer\";import{sendMessage}from\"../../redux/chatReducer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Chat(_ref){let{}=_ref;const dispatch=useDispatch();// Collapsed means in modal mode, not small window size.\nconst[collapsed,setCollapsed]=useState(true);const[supersized,setSupersized]=useState(false);const windowSize=useWindowSize();const{loading,messages}=useSelector(state=>state.chat);const username=useSelector(state=>state.user.userName);const[message,setMessage]=useState(\"\");const handleSend=()=>{try{dispatch(sendMessage(message));setMessage(\"\");}catch(err){dispatch(addError(`Failed to send message ${process.env.NODE_ENV===\"development\"?err:\"\"}`));dispatch(clearError());}};useEffect(()=>{// Scroll to bottom of chat messages\nconst chatBox=document.querySelector(\".flex-grow\");if(chatBox){chatBox.scrollIntoView({behavior:\"smooth\"});}},[messages]);return/*#__PURE__*/_jsx(_Fragment,{children:collapsed?/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 right-0 z-50 mb-6 mr-6 text-white duration-300 ease-in-out transform rounded-full cursor-pointer hover:scale-110 from-purple-500 to-purple-100 bg-gradient-to-br \",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-full bg-slate-100\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/bot.png\",alt:\"Chat\",className:\"w-20 h-20\",onClick:()=>setCollapsed(false)})})}):/*#__PURE__*/// Chat box container\n// By default it's meant for mobile first\n// if supersized is true, it will be expanded mode (bigger chat box)\n// if supersized is false, it will be smaller and it checks the width of the screen for desktop only.\n// On Mobile/small screens supersized will be false by default and no button to expand it.\n_jsxs(\"div\",{className:`fixed z-50 shadow-md flex flex-col bg-white rounded-2xl ${supersized?`bottom-5 right-5 md:w-3/4 2xl:w-2/5 md:h-3/4 ${windowSize.height<1024&&\"md:h-[95%]\"}`:windowSize.width>768?\"bottom-5 right-5 w-[420px] h-[860px]\":\"w-[95%] h-[95%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"}\n\t\t\t\t${!collapsed&&\"duration-300 ease-in-out transition-all\"}\n\t\t\t\t\t\n\t\t\t\t\t`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between w-full p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[windowSize.width>768&&(!supersized?/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>setSupersized(!supersized),BtnIcon:/*#__PURE__*/_jsx(ArrowsPointingOutIcon,{className:\"fill-gray-600\"}),extraClasses:\"mr-2\"}):/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>setSupersized(!supersized),BtnIcon:/*#__PURE__*/_jsx(ArrowsPointingInIcon,{className:\"fill-gray-600\"}),extraClasses:\"mr-2\"})),/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>setCollapsed(true),BtnIcon:/*#__PURE__*/_jsx(ArrowRightEndOnRectangleIcon,{className:\"fill-gray-600\"})})]}),/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>setCollapsed(true),BtnIcon:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6 fill-gray-600\"}),extraClasses:\"h-10 w-10 flex items-center justify-center\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-grow w-full overflow-x-hidden overflow-y-scroll bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center w-full\",children:[/*#__PURE__*/_jsx(GenericAvatar,{extraClasses:\"w-20 h-20\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"block text-lg font-semibold text-center\",children:[\"Hi \",username?username+\"!\":\"ðŸ‘‹,\",\" I'm Ava\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"block text-sm text-center text-gray-600\",children:\"Ask me anything or pick a place to start\"})]})]}),/*#__PURE__*/_jsx(MessageBox,{messages:messages})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full pt-4 bg-white border-t-[1px] border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-center w-full p-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-2\",children:/*#__PURE__*/_jsx(GenericAvatar,{srcPath:\"/boy.png\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your question...\",value:message,onChange:e=>setMessage(e.target.value),className:\"block w-10/12 overflow-y-auto resize-y rounded-md border-0 ring-0 text-gray-900 text-base dark:text-gray-50 focus:ring-inset focus:ring-1  focus:ring-purple-500 focus:outline-none px-3 py-1.5\",onKeyDown:e=>{if(e.key===\"Enter\"){handleSend();}}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-between w-full p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 cursor-default\",children:\"Context\"}),/*#__PURE__*/_jsx(ContextDropDown,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>console.log(`You clicked on settings!`),BtnIcon:/*#__PURE__*/_jsx(Cog6ToothIcon,{className:\"w-6 h-6 text-gray-600\"}),extraClasses:\"rounded-full h-10 w-10 hover:shadow-md flex items-center justify-center\"}),/*#__PURE__*/_jsx(ChatNavBtn,{actionHandler:()=>handleSend(),BtnIcon:/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"w-6 h-6 text-gray-600\"}),extraClasses:\"rounded-full h-10 w-10 hover:shadow-md flex items-center justify-center\"})]})]})]})});}","map":{"version":3,"names":["useEffect","useState","ChatNavBtn","ArrowRightEndOnRectangleIcon","ArrowsPointingInIcon","ArrowsPointingOutIcon","XMarkIcon","Cog6ToothIcon","PaperAirplaneIcon","MessageBox","ContextDropDown","useWindowSize","useDispatch","useSelector","GenericAvatar","addError","clearError","sendMessage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Chat","_ref","dispatch","collapsed","setCollapsed","supersized","setSupersized","windowSize","loading","messages","state","chat","username","user","userName","message","setMessage","handleSend","err","process","env","NODE_ENV","chatBox","document","querySelector","scrollIntoView","behavior","children","className","src","alt","onClick","height","width","actionHandler","BtnIcon","extraClasses","srcPath","type","placeholder","value","onChange","e","target","onKeyDown","key","console","log"],"sources":["/home/lightberry/bucket/artisan-frontend/src/components/chatbot/Chat.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport ChatNavBtn from \"../buttons/ChatNavBtn\";\nimport {\n\tArrowRightEndOnRectangleIcon,\n\tArrowsPointingInIcon,\n\tArrowsPointingOutIcon,\n\tXMarkIcon,\n} from \"@heroicons/react/24/solid\";\nimport { Cog6ToothIcon, PaperAirplaneIcon } from \"@heroicons/react/24/outline\";\nimport MessageBox from \"./MessageBox\";\nimport ContextDropDown from \"./ContextDropDown\";\nimport useWindowSize from \"../../hooks/useWindowSize\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../../redux/store\";\nimport GenericAvatar from \"../GenericAvatar\";\n// import ChatUserInput from \"./ChatUserInput\";\nimport { addError, clearError } from \"../../redux/errorsReducer\";\nimport { sendMessage } from \"../../redux/chatReducer\";\n\ntype Props = {};\n\nexport default function Chat({}: Props) {\n\tconst dispatch = useDispatch<AppDispatch>();\n\t// Collapsed means in modal mode, not small window size.\n\tconst [collapsed, setCollapsed] = useState(true);\n\tconst [supersized, setSupersized] = useState(false);\n\tconst windowSize = useWindowSize();\n\tconst { loading, messages } = useSelector((state: RootState) => state.chat);\n\tconst username = useSelector((state: RootState) => state.user.userName);\n\tconst [message, setMessage] = useState(\"\");\n\n\tconst handleSend = () => {\n\t\ttry {\n\t\t\tdispatch(sendMessage(message));\n\t\t\tsetMessage(\"\");\n\t\t} catch (err) {\n\t\t\tdispatch(\n\t\t\t\taddError(`Failed to send message ${process.env.NODE_ENV === \"development\" ? err : \"\"}`)\n\t\t\t);\n\t\t\tdispatch(clearError());\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\t// Scroll to bottom of chat messages\n\t\tconst chatBox = document.querySelector(\".flex-grow\");\n\t\tif (chatBox) {\n\t\t\tchatBox.scrollIntoView({ behavior: \"smooth\" });\n\t\t}\n\t}, [messages]);\n\n\treturn (\n\t\t<>\n\t\t\t{/* Show modal if collapsed */}\n\t\t\t{collapsed ? (\n\t\t\t\t<div className=\"fixed bottom-0 right-0 z-50 mb-6 mr-6 text-white duration-300 ease-in-out transform rounded-full cursor-pointer hover:scale-110 from-purple-500 to-purple-100 bg-gradient-to-br \">\n\t\t\t\t\t<div className=\"rounded-full bg-slate-100\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"/bot.png\"\n\t\t\t\t\t\t\talt=\"Chat\"\n\t\t\t\t\t\t\tclassName=\"w-20 h-20\"\n\t\t\t\t\t\t\tonClick={() => setCollapsed(false)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t// Chat box container\n\t\t\t\t// By default it's meant for mobile first\n\t\t\t\t// if supersized is true, it will be expanded mode (bigger chat box)\n\t\t\t\t// if supersized is false, it will be smaller and it checks the width of the screen for desktop only.\n\t\t\t\t// On Mobile/small screens supersized will be false by default and no button to expand it.\n\t\t\t\t<div\n\t\t\t\t\tclassName={`fixed z-50 shadow-md flex flex-col bg-white rounded-2xl ${\n\t\t\t\t\t\tsupersized\n\t\t\t\t\t\t\t? `bottom-5 right-5 md:w-3/4 2xl:w-2/5 md:h-3/4 ${\n\t\t\t\t\t\t\t\t\twindowSize.height < 1024 && \"md:h-[95%]\"\n\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t: windowSize.width > 768\n\t\t\t\t\t\t\t? \"bottom-5 right-5 w-[420px] h-[860px]\"\n\t\t\t\t\t\t\t: \"w-[95%] h-[95%] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"\n\t\t\t\t\t}\n\t\t\t\t${!collapsed && \"duration-300 ease-in-out transition-all\"}\n\t\t\t\t\t\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{/* Nav */}\n\t\t\t\t\t<div className=\"flex flex-row items-center justify-between w-full p-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{windowSize.width > 768 &&\n\t\t\t\t\t\t\t\t(!supersized ? (\n\t\t\t\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\t\t\t\tactionHandler={() => setSupersized(!supersized)}\n\t\t\t\t\t\t\t\t\t\tBtnIcon={<ArrowsPointingOutIcon className=\"fill-gray-600\" />}\n\t\t\t\t\t\t\t\t\t\textraClasses=\"mr-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\t\t\t\tactionHandler={() => setSupersized(!supersized)}\n\t\t\t\t\t\t\t\t\t\tBtnIcon={<ArrowsPointingInIcon className=\"fill-gray-600\" />}\n\t\t\t\t\t\t\t\t\t\textraClasses=\"mr-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\t\tactionHandler={() => setCollapsed(true)}\n\t\t\t\t\t\t\t\tBtnIcon={<ArrowRightEndOnRectangleIcon className=\"fill-gray-600\" />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\tactionHandler={() => setCollapsed(true)}\n\t\t\t\t\t\t\tBtnIcon={<XMarkIcon className=\"w-6 h-6 fill-gray-600\" />}\n\t\t\t\t\t\t\textraClasses=\"h-10 w-10 flex items-center justify-center\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Ava Header and Messages -> This header will scroll up with messages*/}\n\t\t\t\t\t<div className=\"flex flex-col flex-grow w-full overflow-x-hidden overflow-y-scroll bg-white\">\n\t\t\t\t\t\t<div className=\"pt-2\" />\n\t\t\t\t\t\t{/* Top Bot header inside chat */}\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center w-full\">\n\t\t\t\t\t\t\t<GenericAvatar extraClasses=\"w-20 h-20\" />\n\t\t\t\t\t\t\t<div className=\"my-4\">\n\t\t\t\t\t\t\t\t<p className=\"block text-lg font-semibold text-center\">\n\t\t\t\t\t\t\t\t\tHi {username ? username + \"!\" : \"ðŸ‘‹,\"} I'm Ava\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"block text-sm text-center text-gray-600\">\n\t\t\t\t\t\t\t\t\tAsk me anything or pick a place to start\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* Chat messages */}\n\t\t\t\t\t\t<MessageBox messages={messages} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* User Input */}\n\t\t\t\t\t<div className=\"w-full pt-4 bg-white border-t-[1px] border-gray-200\">\n\t\t\t\t\t\t<div className=\"flex flex-row items-center justify-center w-full p-1\">\n\t\t\t\t\t\t\t<div className=\"mx-2\">\n\t\t\t\t\t\t\t\t<GenericAvatar srcPath=\"/boy.png\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Your question...\"\n\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\t\t\t\t\tclassName=\"block w-10/12 overflow-y-auto resize-y rounded-md border-0 ring-0 text-gray-900 text-base dark:text-gray-50 focus:ring-inset focus:ring-1  focus:ring-purple-500 focus:outline-none px-3 py-1.5\"\n\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSend();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* Chat Action buttons bar */}\n\t\t\t\t\t<div className=\"flex flex-row items-center justify-between w-full p-6\">\n\t\t\t\t\t\t<div className=\"flex flex-row items-center justify-center gap-2\">\n\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 cursor-default\">Context</p>\n\t\t\t\t\t\t\t<ContextDropDown />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-row items-center justify-center gap-2\">\n\t\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\t\tactionHandler={() => console.log(`You clicked on settings!`)}\n\t\t\t\t\t\t\t\tBtnIcon={<Cog6ToothIcon className=\"w-6 h-6 text-gray-600\" />}\n\t\t\t\t\t\t\t\textraClasses=\"rounded-full h-10 w-10 hover:shadow-md flex items-center justify-center\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ChatNavBtn\n\t\t\t\t\t\t\t\tactionHandler={() => handleSend()}\n\t\t\t\t\t\t\t\tBtnIcon={<PaperAirplaneIcon className=\"w-6 h-6 text-gray-600\" />}\n\t\t\t\t\t\t\t\textraClasses=\"rounded-full h-10 w-10 hover:shadow-md flex items-center justify-center\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}